<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>

    <body>
    </body>
    <script type="text/javascript">
			// 时长: 30 分钟
		// 姓名:
		// 日期:

		// 修改下面的 start 函数, 使 execute 对应的 id 按顺序打印.

//		

 		//  方法一
		var master = [];
	  function start(id) {
	  	let a = function(){
	  		return execute(id).catch(console.error);
	  	}
	  	master.push(a);
	  	if(id == 4){
	  		master.reduce(function(current,next){
			  	return current.then(next);
			  },Promise.resolve());
	  	}
		}
	  
	  // 方法二
	  var arr = [];
	  function start(id){
	  	const a = function(){
	  		return execute(id).catch(console.error);
	  	}
	  	arr.push(a);
	  	if(id == 4){
	  		recursive(0);
	  	}
	  }
	  function recursive(i){
	  	if(i < 5){
	  		return arr[i]().then(()=>{
	  			return recursive(i+1);
	  		});
	  	}
	  }  
	  
		// 测试代码 (请勿更改):
		for (let i = 0; i < 5; i++) {
		  start(i);
		}
		
		function sleep(duration) {
		  return new Promise(resolve => setTimeout(resolve, duration));
		}
		
		function execute(id) {
		  let duration = Math.floor(Math.random() * 500);
		  return sleep(duration).then(() => {
		   console.log("id",id);
		  });
		}
		
		// 输出结果参考:
		// id 0
		// id 1
		// id 2
		// id 3
		// id 4

    </script>
  </head>
</html>